"use strict";$(function(){$("#regForm").bootstrapValidator({message:"This value is not valid",feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{username:{message:"用户名验证失败",validators:{notEmpty:{message:"用户名必须填写"},stringLength:{min:6,max:12,message:"用户名长度必须在6~12位之间"}}},Password:{message:"密码验证失败",validators:{notEmpty:{message:"密码必须填写"},stringLength:{min:6,max:18,message:"用户名长度必须在6~18位之间"}}},repeatPassword:{message:"密码验证失败",validators:{notEmpty:{message:"密码必须要和你输入的一样"},stringLength:{min:6,max:18,message:"用户名长度必须在6~18位之间"},identical:{field:"Password",message:"两次输入的密码不一致"}}},email:{message:"电子邮件验证失败",validators:{notEmpty:{message:"电子邮件必须填写"},emailAddress:{message:"电子邮件不真确"}}},mobile:{message:"手机件验证失败",validators:{notEmpty:{message:"手机必须填写"},regexp:{regexp:/^((1[358][0-9])|(14[57])|(17[0678])|(19[7]))\d{8}$/,message:"手机不真确"}}}}}).on("success.form.bv",function(s){s.preventDefault();var e=$(s.target),a=(e.data("bootstrapValidator"),e.serialize());$.post("./api/userAdd.php",a,function(s){s.isSuccess?(alert(s.msg),location.href="./login.php"):alert(s.msg)},"json")}),$("#loginForm").bootstrapValidator({message:"This value is not valid",feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{username:{message:"用户名验证失败",validators:{notEmpty:{message:"用户名必须填写"},stringLength:{min:6,max:12,message:"用户名长度必须在6~12位之间"}}},password:{message:"密码验证失败",validators:{notEmpty:{message:"密码必须填写"},stringLength:{min:6,max:18,message:"密码长度必须在6~18位之间"}}}}}).on("success.form.bv",function(s){s.preventDefault();var e=$(s.target),a=(e.data("bootstrapValidator"),e.serialize());$.post("/api/userCheck.php",a,function(s){if(console.log("api返回的结果",s),s.isSuccess){$("#msgShowTitle").text("登录成功"),$("#msgShowContent").html("<span class='glyphicon glyphicon-ok'></span> ".concat(s.msg,"，等待<span id\n                  ='num'>3</span>秒后跳转到个人中心"));var e=4,a=setInterval(function(){e--,$("#num").text(e),0==e&&(clearInterval(a),location.href="../personal.php")},1e3)}else $("#msgShowTitle").text("登录失败"),$("#msgShowContent").html("<span class='glyphicon glyphicon-remove'>4</span> "+s.msg);$("#msgShowModal").modal("show")},"json")})});